!function(){var i,e="",a=(void 0!==window.adminpage&&(e=window.adminpage),new Array);var o;switch(e){case"upload-php":case"media_page_iloveimg-media-page":case"post-php":jQuery(document).on("click","button.iloveimg-compress",function(e){var t=jQuery(e.target),i=t.closest("td");t.attr("disabled","disabled"),t.next().show(),jQuery.ajax({url:ajaxurl,type:"POST",data:{action:"ilove_img_compress_library",id:t.data("id")||t.attr("data-id"),imgnonce:t.data("imgnonce")||t.attr("data-imgnonce")},success:function(e){t.removeAttr("disabled"),i.html(e)},error:function(){t.removeAttr("disabled")}})}),jQuery(document).on("click","button#iloveimg_allcompress",function(e){o=jQuery("button.iloveimg-compress").length,jQuery("button#iloveimg_allcompress").attr("disabled","disabled"),jQuery("button.iloveimg-compress").each(function(e,t){jQuery(t).trigger("click"),i=setInterval(function(){var e=100-100*jQuery("button.iloveimg-compress").length/o;jQuery("button#iloveimg_allcompress .iloveimg-compress-all__percent").width(e+"%"),jQuery("button.iloveimg-compress").length||clearInterval(i)},300),location.reload()})}),jQuery("<option>").val("iloveimg_bulk_action").text("Compress Images").appendTo("select[name=action]"),jQuery("<option>").val("iloveimg_bulk_action").text("Compress Images").appendTo("select[name=action2]"),jQuery(".iloveimg_compressing").each(function(o,n){a["ref_"+o]=setInterval(function(){var e,t,i;e=n,t=o,i=(e=jQuery(e)).closest("td"),jQuery.ajax({url:ajaxurl,type:"POST",data:{action:"ilove_img_compress_library_is_compressed",id:e.data("id")||e.attr("data-id"),imgnonce:e.data("imgnonce")||e.attr("data-imgnonce")},success:function(e){clearInterval(a["ref_"+t]),i.html(e)},error:function(){}})},1e3)}),jQuery(document).on("submit","form#images-filter, form#posts-filter",function(e){"iloveimg_bulk_action"==jQuery(document).find("select#bulk-action-selector-top option:checked").val()&&(e.preventDefault(),jQuery("table.wp-list-table.images tbody tr, table.wp-list-table.media tbody tr").each(function(e,t){jQuery(t).find("th.check-column input[type='checkbox']").is(":checked")&&jQuery(t).find("td.status button, td.iloveimg_compression button").trigger("click")}))})}jQuery(".iloveimg_settings__options-container form input").on("change",function(e){jQuery(".iloveimg_settings__options-container form .submit button").hasClass("need_saving")||setTimeout(function(){jQuery(".iloveimg_settings__options-container form .submit button").addClass("need_saving"),setTimeout(function(){jQuery(".iloveimg_settings__options-container form .submit button").removeClass("need_saving")},5e3)},1e3)})}.call();